<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | NBA Shooting Pattern Analysis</title>
  <meta name="description" content="Chapter 6 Interactive component | NBA Shooting Pattern Analysis" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | NBA Shooting Pattern Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | NBA Shooting Pattern Analysis" />
  
  
  

<meta name="author" content="Anne Lin, Yanbing Chen" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NBA</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing Values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#league-shooting-pattern-analysis"><i class="fa fa-check"></i><b>5.1</b> League Shooting Pattern Analysis</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#distribution-of-shot-distance"><i class="fa fa-check"></i><b>5.1.1</b> Distribution of Shot Distance</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#relationship-between-shot-result-and-shot-distance"><i class="fa fa-check"></i><b>5.1.2</b> Relationship Between Shot Result and Shot Distance</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#shot-attempted-in-different-periods"><i class="fa fa-check"></i><b>5.1.3</b> Shot Attempted in Different Periods</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#team-shooting-pattern-analysis"><i class="fa fa-check"></i><b>5.2</b> Team Shooting Pattern Analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#total-shots-for-each-team"><i class="fa fa-check"></i><b>5.2.1</b> Total Shots for Each Team</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#three-point-preference-by-period"><i class="fa fa-check"></i><b>5.2.2</b> Three-point Preference by Period</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#field-goal-percentage"><i class="fa fa-check"></i><b>5.2.3</b> Field Goal Percentage</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#individual-player-analysis"><i class="fa fa-check"></i><b>5.3</b> Individual Player Analysis</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#shooting-behavior-of-stephen-curry"><i class="fa fa-check"></i><b>5.3.1</b> Shooting Behavior of Stephen Curry</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#shooting-pattern-in-playoffs-of-lebron-james"><i class="fa fa-check"></i><b>5.3.2</b> Shooting Pattern in Playoffs of LeBron James</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#analysis-on-shooting-behavior-in-different-periods-of-lebron-james"><i class="fa fa-check"></i><b>5.3.3</b> Analysis on shooting behavior in different periods of LeBron James</a></li>
<li class="chapter" data-level="5.3.4" data-path="results.html"><a href="results.html#shooting-behavior-of-giannis-antetokounmpo"><i class="fa fa-check"></i><b>5.3.4</b> Shooting Behavior of Giannis Antetokounmpo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NBA Shooting Pattern Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<head>
<title>
Shot Distance Bar Plot
</title>
<script src="https://d3js.org/d3.v7.js"></script>
</head>
<button onclick="update(allData)">All Data</button>
<button onclick="update(data1)">First Quarter</button>
<button onclick="update(data2)">Second Quarter</button>
<button onclick="update(data3)">Third Quarter</button>
<button onclick="update(data4)">Forth Quarter</button>
<div id="BarPlot">

</div>
<script>
  const margin = {top: 30, right: 30, bottom: 70, left: 60},
    width = 800 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;
    
  const xAxisLabel = 'Shooting Distance';
  const yAxisLable = 'Number of Goals Made';

  const bars = d3.select("#BarPlot")
    .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
    .append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

  bars.append("text")
      .attr("class", "x label")
      .attr("text-anchor", "end")
      .attr("x", width + 30)
      .attr("y", height + 30)
      .style("font-size", "20px")
      .text(xAxisLabel);

  bars.append("text")
      .attr("class", "y label")
      .attr("text-anchor", "end")
      .attr("y", 6)
      .attr("dy", "-0.8em")
      .attr("transform", "rotate(-90)")
      .style("font-size", "20px")
      .text(yAxisLable);

  const x = d3.scaleBand()
    .range([ 50, width-50 ])
    .padding(0.1);
  const xAxis = bars.append("g")
    .attr("transform", `translate(0,${height})`)

  const y = d3.scaleLinear()
    .range([ height, 0]);
  const yAxis = bars.append("g")
    .attr("transform", "translate(50,0)")

  const csvUrl = "https://raw.githubusercontent.com/yc4004/NBAanalysis/main/shotchartdetail_regular_updated.csv";
  const allData = d3.csv(csvUrl);
  const data1 = d3.csv(csvUrl)
  .then((data) => d3.filter(data, d => d.period == '1'));
  const data2 = d3.csv(csvUrl)
  .then((data) => d3.filter(data, d => d.period == '2'));
  const data3 = d3.csv(csvUrl)
  .then((data) => d3.filter(data, d => d.period == '3'));
  const data4 = d3.csv(csvUrl)
  .then((data) => d3.filter(data, d => d.period == '4'));

  function update(data) {
        data.then(function (data) {
        const nest = [];
        const keys = ["1","2","3","4","5","6","7","8","9", "10", "11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"];
        keys.forEach((d) => {
          const s = d3.sum (data.filter(data => data.shot_distance === d), (e) => e.shot_made_flag); 

          const obj = {
            distance: d, //shotting distance
            TotalGoals: s //sum for goals made
          }       
          nest.push(obj);
        })  
    
        x.domain(nest.map(d => d.distance))
        xAxis.call(d3.axisBottom(x))
        .selectAll("text")      

        y.domain([0, d3.max(nest, d => d.TotalGoals) * 1.1]);
        yAxis.transition().duration(1000).call(d3.axisLeft(y));

        const u = bars.selectAll("rect")
          .data(nest)

        u.join("rect") 
          .transition() 
          .duration(1000)
            .attr("x", d => x(d.distance))
            .attr("y", d => y(d.TotalGoals))
            .attr("width", x.bandwidth())
            .attr("height", d => height - y(d.TotalGoals))
            .attr("fill", "steelblue")
            .attr("opacity", 0.8)
        })      
    }

update(allData);
  </script>
<p>For the interactive component, we examine how shooting patterns vary with shooting distance among all players and compare the shooting patterns in different periods.</p>
<p>By looking at all data, we obtain the same conclusion as before, which is that players shoot less mid-range than 3-points and layups.</p>
<p>After exploring the patterns with different periods, we find that shooting patterns mentioned above vary slightly with periods and by looking at plots in first quarter and second quarter carefuly, one difference we should notice is that players tend to make less long-distanced shots after the first quarter because we have seen a drop on all shots made 23 feet away from the basketball in the second quarter. So all teams should be alerted in second quarter and focus on the defense in the painted area.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yc4004/NBAanalysis/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yc4004/NBAanalysis/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
